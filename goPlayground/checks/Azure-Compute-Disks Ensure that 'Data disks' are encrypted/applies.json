{
  "properties": {
    "document": {
      "properties": {
        "properties": {
          "anyOf": [
            {
              "properties": {
                "diskState": {
                  "not": {
                    "constIgnoreCase": "unattached"
                  }
                }
              }
            },
            {
              "properties": {
                "not": {
                  "required": ["osType"]
                }
              }
            }
          ]
        }
      }
    }
  }
}
